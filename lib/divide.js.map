{"version":3,"sources":["divide.js"],"names":[],"mappings":"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","file":"divide.js","sourcesContent":["var integer = require('./factory.js')\nvar add = require('./add.js')\nvar clone = require('clone')\nvar compare = require('./compare.js')\n\nfunction simpleDivide(a, b, keep='r') {\n  var x = clone(a)\n  var y = clone(b)\n  var count = 0\n  while (compare.greaterThanEq(x, y)) {\n    x = add.subtract(x, y)\n    count += 1\n  }\n  if (keep === 'r') {\n    return x\n  } else if (keep === 'q') {\n    count = integer(count)\n    return count\n  } else {\n    throw new Error('Invalid option for simpleDivide. Must keep either the remainder or the quotient.')\n  }\n}\n\nfunction divide(a, b, keep='r') {\n  if (compare.equal(b, integer(0)) || compare.equal(b, integer(0, '-'))) {\n    throw new Error('Cannot divide by zero.')\n  }\n\n  // Handle separately when one of the numbers is 1 or -1 so it doesn't take forever\n  var output\n  if (compare.equal(b, integer(1)) || compare.equal(b, integer(-1))) {\n    if (keep === 'r') {\n      output = integer(0)\n    } else {\n      output = integer(a.value)\n    }\n  } else {\n    output = simpleDivide(integer(a.value), integer(b.value), keep)\n  }\n\n  // Don't check sign if is zero\n  if (compare.equal(output, integer(0))) {\n    return output\n  }\n\n  if (a.sign === b.sign && a.sign === '+') {\n    return output\n  } else if (a.sign === b.sign && a.sign === '-') {\n    if (keep === 'r') {\n      return integer(output.value, '-')\n    } else if (keep === 'q') {\n      return output\n    }\n  } else {\n    if (keep === 'r') {\n      return output\n    } else if (keep === 'q') {\n      return integer(output.value, '-')\n    }\n  }\n}\n\nfunction mod(a, b) {\n  return divide(a, b, 'r')\n}\n\nfunction quotient(a, b) {\n  return divide(a, b, 'q')\n}\n\nmodule.exports = {\n  mod,\n  quotient\n}\n"],"sourceRoot":"/source/"}