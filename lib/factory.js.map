{"version":3,"sources":["factory.js"],"names":[],"mappings":";;;;;;;AAMA,IAAI,SAAS,GAAG,EAAE,CAAA;AAClB,MAAM,CAAC,cAAc,CAAC,SAAS,EAAE,UAAU,EAAE;AAC3C,OAAK,EAAE,iBAAW;AAChB,QAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE;AAC9B,aAAO,WAAW,CAAA;KACnB,MAAM;AACL,aAAO,IAAI,CAAC,IAAI,KAAK,GAAG,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;KACjF;GACF;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,cAAc,CAAC,SAAS,EAAE,SAAS,EAAE;AAC1C,OAAK,EAAE,iBAAW;AAChB,WAAO,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAA;GAC/B;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,cAAc,CAAC,SAAS,EAAE,MAAM,EAAE;AACvC,OAAK,EAAE,SAAS;CACjB,CAAC,CAAA;;AAEF,MAAM,CAAC,cAAc,CAAC,SAAS,EAAE,QAAQ,EAAE;AACzC,KAAG,EAAE,eAAW;AACd,WAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAA;GACzB;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;;;;;;;;AASxB,SAAS,OAAO;;;;4BAAuB;AAAtB,OAAG,GAAO,IAAI,GACzB,MAAM,GAeJ,MAAM;QAhBG,GAAG,2DAAG,EAAE;;QAAE,IAAI,2DAAG,GAAG;;AACnC,QAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;AACrC,QAAI,GAAG,CAAC,IAAI,KAAK,SAAS,EAAE;oBACX,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,IAAI;;;KACnC,MAAM,IAAI,GAAG,YAAY,KAAK,EAAE;AAC/B,YAAM,CAAC,KAAK,GAAG,GAAG,CAAA;AAClB,YAAM,CAAC,IAAI,GAAG,IAAI,CAAA;;;AAGlB,UAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,UAAS,CAAC,EAAE;AACjC,eAAO,CAAC,KAAK,CAAC,CAAA;OACf,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AAC7B,cAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAA;OACnB;KAEF,MAAM;AACL,UAAI,MAAM,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;AACrC,YAAM,GAAG,MAAM,CAAC,GAAG,CAAC,UAAS,CAAC,EAAE;AAC9B,YAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE;AAC1B,iBAAO,QAAQ,CAAC,CAAC,CAAC,CAAA;SACnB,MAAM;AACL,iBAAO,CAAC,CAAA;SACT;OACF,CAAC,CAAA;AACF,UAAI,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;AAC1C,cAAM,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAA;AACvB,cAAM,CAAC,KAAK,EAAE,CAAA;AACd,cAAM,CAAC,KAAK,GAAG,MAAM,CAAA;OACtB,MAAM;AACL,cAAM,CAAC,IAAI,GAAG,IAAI,CAAA;AAClB,cAAM,CAAC,KAAK,GAAG,MAAM,CAAA;OACtB;KACF;AACD,WAAO,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;GAC7B;CAAA;;;;;;AAMD,MAAM,CAAC,OAAO,GAAG,OAAO,CAAA","file":"factory.js","sourcesContent":["/**\n * Defines the integer factory function and basic operations on it.\n * @module factory\n */\n\n\nvar prototype = {}\nObject.defineProperty(prototype, 'toString', {\n  value: function() {\n    if (this.value.join('') === '') {\n      return 'undefined'\n    } else {\n      return this.sign === '-' ? this.sign + this.value.join('') : this.value.join('')\n    }\n  }\n})\n\nObject.defineProperty(prototype, 'valueOf', {\n  value: function() {\n    return Number(this.toString())\n  }\n})\n\nObject.defineProperty(prototype, 'type', {\n  value: 'integer'\n})\n\nObject.defineProperty(prototype, 'digits', {\n  get: function() {\n    return this.value.length\n  }\n})\n\nObject.freeze(prototype)\n\n\n/**\n * A factory function that outputs a new immutable integer type.\n * @param  {array | integer | num}  num  The value (as an array, number, or integer) for the new integer.\n * @param  {String} [sign='+'] The sign of the new integer. Defaults to '+'\n * @return {integer}      The newly created integer. Has value = num and sign = sign.\n */\nfunction integer(num = [], sign = '+') {\n  var output = Object.create(prototype)\n  if (num.type === 'integer') {\n    return integer(num.value, num.sign)\n  } else if (num instanceof Array) {\n    output.value = num\n    output.sign = sign\n\n    // Avoids having values of form [0,0,0....]\n    if (output.value.every(function(a) {\n      return a === 0\n    }) && output.value.length > 0) {\n      output.value = [0]\n    }\n\n  } else {\n    var digits = num.toString().split('')\n    digits = digits.map(function(a) {\n      if (a !== '-' && a !== '+') {\n        return parseInt(a)\n      } else {\n        return a\n      }\n    })\n    if (digits[0] === '+' || digits[0] === '-') {\n      output.sign = digits[0]\n      digits.shift()\n      output.value = digits\n    } else {\n      output.sign = sign\n      output.value = digits\n    }\n  }\n  return Object.freeze(output)\n}\n\n/**\n * Export integer factory function\n * @type {function}\n */\nmodule.exports = integer\n"],"sourceRoot":"/source/"}